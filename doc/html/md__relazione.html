<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>X-Tetris: Progetto X - Tetris</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">X-Tetris
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Progetto X - Tetris </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >A cura di Maksim Kovalkov</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Problemi da risolvere</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Naming convention</h2>
<p >Scegliere un modo consistente per dare nomi a tipi, funzioni e variabili è un problema eterno di tutti i progetti. Particolarmente delicata è la situazione in C, dove non c'è una forte preferenza verso un particolare stile come potrebbe esserci in linguaggi più giovani. Per questo progetto ho deciso di adottare una convenzione simile a quella preferita da Bjarne Stroustrup (creatore di C++): si usa <code>snake_case</code> ovunque possibile, preferendo però di cominciare con una maiuscola per i nomi dei tipi (<code>Upper_snake_case</code>); si usa tutte maiuscole solo per identificatori introdotti da direttive <code>#define</code>. Ho preferito distinguere i nomi dei tipi dagli altri nomi per maggiore chiarezza: avevo valutato di addottare invece la convenzione di aggiungere il suffisso <code>_t</code>, ma ho abbandonato l'idea per non incorrere in problemi di compatibilità, poiché l'intero 'namespace' <code>*_t</code> è riservato secondo lo standard POSIX.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Rappresentazione delle parti che costituiscono il gioco</h2>
<p >Per rappresentare il campo da gioco è stato scelto un array multidimensionale statico di byte, per semplificare la gestione della memoria perlomeno nella parte della gestione della logica del gioco. Sapere che un blocco all'interno del campo occupa 1 <code>char</code> permette di ragionare più facilmente sulle operazioni che devono accadere durante il gioco (posizionamento dei blocchi, cancellazione di righe...).</p>
<p >La rappresentazione dei tetramini è anch'essa scelta per maggiore comodità di programmazione: sono array 4x4 (il rettangolo massimo occupato da un tetramino in tutte le sue rotazioni) di byte contenenti valori 0 e 1 in corrispondenza dei blocchi da cui sono costituiti.</p>
<p >&lt; lo "schermo"? &gt;</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Struttura generale del progetto</h1>
<p >L'organizzazione si è basata su dei principi "di buon senso" per contenere la complessità e il grado di interconnessione tra le parti che compongono il software. Ciò includeva, per esempio, dare dei nomi comprensibili alle funzioni, limitarle la loro responsabilità ad un singolo compito, limitare (dove ha senso) l'accesso delle funzioni allo "stato" alle informazioni strettamente necessarie, separare le componenti logicamente distinte in moduli più o meno "autonomi".</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Natura modulare</h2>
<p >Si è cercato, nei limiti ragionevoli per un progetto di questo calibro, di costruire delle unità che abbiano compiti distinti e pressoché indipendenti, e che inoltre forniscano un'interfaccia solida, ovvero abbastanza astratta da permettere in potenza di sostituire l'implementazione con un'altra senza necessitare di interventi in ogni parte del codice in cui viene utilizzata.</p>
<p >Dopo aver riscontrato difficoltà con il primo prototipo del gioco - in cui la separazione tra la parte di gestione del gioco e la parte di visualizzazione riguardava sì i dati, ma non il "comportamento" - ho deciso di adottare un meccanismo che ho scoperto essere vagamente somigliante al pattern Model-ViewController con View e Controller strettamente collegati tra loro.</p>
<p >&lt; sperando che riesco a finire il frontend alternativo &gt; Per mettere alla prova la modularità dell'architettura scelta per il progetto, ho implementato un front-end alternativo per il</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Approccio allo sviluppo</h1>
<p >Il percorso dello sviluppo si è declinato per me in tecniche diverse; è stato in generale un misto tra l'approcio "bottom-up" e l'approcio "top-down". Il primo si è esplicato nel trovare un sottoproblema più semplice rispetto al particolare problema che sto risolvendo in questo momento, e risolverlo facendo uso di codice-prototipo che non viene incluso nel prodotto finale ma permette di avere un feedback immediato e iterare più velocemente. (In certi casi questo codice potrebbe anche essere stato incluso sotto forma di unit test.)</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Ispirazioni</h1>
<p >Durante il lavoro su questo progetto, ho preso ispirazione da diverse fonti, alcune di cui non saprei nominare. Una di queste è stato il progetto <a href="https://st.suckless.org"><code>st</code></a>, un emulatore di terminale per sistemi UNIX-like, il cui codice sorgente avevo esaminato negli anni passati imparando l'organizzazione tipica dei progetti in C. Tra le altre influenze posso citare Andrew Kelley, creatore del linguaggio Zig, con la sua prospettiva sulla gestione degli errori; Joe Armstrong (?); &lt; qualcun altro &gt; (??) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
